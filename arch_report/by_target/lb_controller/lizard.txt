================================================
  NLOC    CCN   token  PARAM  length  location  
------------------------------------------------
       9      2     44      1       9 build_executor@26-34@lb_controller/models/controller_options.py
       2      1     14      1       3 success@31-33@lb_controller/models/types.py
      11      1     65      7      12 run_playbook@54-65@lb_controller/models/types.py
      17      4     90      5      18 pending_hosts_for@11-28@lb_controller/models/pending.py
      19      5    108      5      20 pending_repetitions@31-50@lb_controller/models/pending.py
      16      5     81      5      17 pending_exists@53-69@lb_controller/models/pending.py
       5      1     56      1       5 __init__@104-108@lb_controller/models/state.py
       3      1     16      1       3 state@111-113@lb_controller/models/state.py
       3      1     19      1       3 reason@116-118@lb_controller/models/state.py
       3      1     18      1       3 is_terminal@120-122@lb_controller/models/state.py
       6      1     27      1       6 allows_cleanup@124-129@lb_controller/models/state.py
       4      1     32      2       5 register_callback@131-135@lb_controller/models/state.py
      19      5    110      3      20 transition@137-156@lb_controller/models/state.py
       3      1     28      1       3 snapshot@158-160@lb_controller/models/state.py
       2      1     19      3       2 __init__@26-27@lb_controller/ansible/callback_plugins/lb_events.py
      33     10    191      1      35 _extract_lb_event@30-64@lb_controller/ansible/callback_plugins/lb_events.py
      10      4    120      1      12 __init__@77-88@lb_controller/ansible/callback_plugins/lb_events.py
       2      1     20      3       2 v2_runner_on_ok@90-91@lb_controller/ansible/callback_plugins/lb_events.py
       2      1     20      3       2 v2_runner_on_failed@93-94@lb_controller/ansible/callback_plugins/lb_events.py
       2      1     20      3       2 v2_runner_on_unreachable@96-97@lb_controller/ansible/callback_plugins/lb_events.py
       2      1     20      3       2 v2_runner_on_skipped@99-100@lb_controller/ansible/callback_plugins/lb_events.py
       6      2     45      3       6 v2_playbook_on_task_start@102-107@lb_controller/ansible/callback_plugins/lb_events.py
      21     12    235      3      21 _handle_result@111-131@lb_controller/ansible/callback_plugins/lb_events.py
       6      3     46      2       6 _events_from_result@133-138@lb_controller/ansible/callback_plugins/lb_events.py
      20     12    172      2      21 _candidate_texts@140-160@lb_controller/ansible/callback_plugins/lb_events.py
       6      2     51      2       7 _write_event@162-168@lb_controller/ansible/callback_plugins/lb_events.py
      24      8    153      4      24 _emit_task_timing@170-193@lb_controller/ansible/callback_plugins/lb_events.py
       3      1     34      3       3 __init__@28-30@lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/docker.py
       5      2     25      1       5 _connect@32-36@lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/docker.py
      15      3    119      4      15 exec_command@38-52@lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/docker.py
       8      2     66      3       8 put_file@54-61@lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/docker.py
      10      3     88      3      10 fetch_file@63-72@lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/docker.py
      47      6    255      5      50 run_global_setup@24-73@lb_controller/adapters/playbooks.py
      36      6    215     10      37 run_workload_setup@76-112@lb_controller/adapters/playbooks.py
      38      6    174     10      39 run_workload_execution@115-153@lb_controller/adapters/playbooks.py
      49      8    263      8      54 execute_run_playbook@156-209@lb_controller/adapters/playbooks.py
      63      7    289      7      64 handle_collect_phase@212-275@lb_controller/adapters/playbooks.py
      20      4     95      5      21 run_teardown_playbook@278-298@lb_controller/adapters/playbooks.py
      51     13    309      5      57 run_global_teardown@301-357@lb_controller/adapters/playbooks.py
      20      2     99      6      21 run_for_hosts@360-380@lb_controller/adapters/playbooks.py
       2      1     16      2       2 __init__@25-26@lb_controller/adapters/ansible_helpers.py
      12      3     73      2      13 prepare@28-40@lb_controller/adapters/ansible_helpers.py
       9      3     69      1      10 render_inventory@43-52@lb_controller/adapters/ansible_helpers.py
       2      1     16      2       2 __init__@58-59@lb_controller/adapters/ansible_helpers.py
       6      1     53      2       6 write@61-66@lb_controller/adapters/ansible_helpers.py
      17      3     97      4      17 build@73-89@lb_controller/adapters/ansible_helpers.py
      13      1     55      6      13 __init__@95-107@lb_controller/adapters/ansible_helpers.py
      26      3    178      1      26 build@109-134@lb_controller/adapters/ansible_helpers.py
       4      1     36      1       4 merge_env@137-140@lb_controller/adapters/ansible_helpers.py
       5      1     50      2       5 __init__@146-150@lb_controller/adapters/ansible_helpers.py
       2      1     14      1       2 clear_interrupt@152-153@lb_controller/adapters/ansible_helpers.py
       5      4     37      2       5 should_stop@155-159@lb_controller/adapters/ansible_helpers.py
       3      1     19      1       3 interrupt@161-163@lb_controller/adapters/ansible_helpers.py
       5      3     31      1       5 is_running@165-169@lb_controller/adapters/ansible_helpers.py
       3      1     28      2       3 set_active_process@171-173@lb_controller/adapters/ansible_helpers.py
       3      1     23      1       3 get_active_process@175-177@lb_controller/adapters/ansible_helpers.py
      13      5     59      1      13 terminate_active@179-191@lb_controller/adapters/ansible_helpers.py
       2      1     28      2       2 __init__@197-198@lb_controller/adapters/ansible_helpers.py
      30      8    149      4      30 stream@200-229@lb_controller/adapters/ansible_helpers.py
       6      2     46      2       6 emit_line@231-236@lb_controller/adapters/ansible_helpers.py
       9      1     35      4       9 __init__@242-250@lb_controller/adapters/ansible_helpers.py
      11      2     57      5      11 run@252-262@lb_controller/adapters/ansible_helpers.py
      26      6    183      4      26 _run_streaming@264-289@lb_controller/adapters/ansible_helpers.py
      16      3    117      3      16 _run_capture@291-306@lb_controller/adapters/ansible_helpers.py
       9      3     54      2       9 _finalize_process@309-317@lb_controller/adapters/ansible_helpers.py
      15      1     80      5      15 __init__@323-337@lb_controller/adapters/ansible_helpers.py
       2      1     14      1       2 clear_interrupt@339-340@lb_controller/adapters/ansible_helpers.py
       2      1     20      2       2 should_stop@342-343@lb_controller/adapters/ansible_helpers.py
       9      1     51      4       9 run@345-353@lb_controller/adapters/ansible_helpers.py
       2      1     14      1       2 interrupt@355-356@lb_controller/adapters/ansible_helpers.py
       2      1     15      1       2 is_running@358-359@lb_controller/adapters/ansible_helpers.py
       2      1     26      2       2 set_active_process@361-362@lb_controller/adapters/ansible_helpers.py
       2      1     22      1       2 get_active_process@364-365@lb_controller/adapters/ansible_helpers.py
       3      1     32      2       3 __init__._default_cb@60-62@lb_controller/adapters/ansible_runner.py
      37      4    250      7      55 __init__@27-81@lb_controller/adapters/ansible_runner.py
      59     10    374      7      68 run_playbook@83-150@lb_controller/adapters/ansible_runner.py
       9      2     33      0      10 _import_runner@153-162@lb_controller/adapters/ansible_runner.py
      19      1    135      8      24 _run_subprocess_playbook@164-187@lb_controller/adapters/ansible_runner.py
       3      1     42      2       3 _log_subprocess_command@190-192@lb_controller/adapters/ansible_runner.py
       3      1     20      1       4 interrupt@194-197@lb_controller/adapters/ansible_runner.py
       4      2     26      1       5 is_running@200-204@lb_controller/adapters/ansible_runner.py
       2      1     13      1       2 _active_process@207-208@lb_controller/adapters/ansible_runner.py
       2      1     15      2       2 _active_process@211-212@lb_controller/adapters/ansible_runner.py
      16      3    110      5      22 __init__@19-40@lb_controller/adapters/remote_runner.py
       2      1     13      1       2 state@43-44@lb_controller/adapters/remote_runner.py
       2      1     11      1       2 result@47-48@lb_controller/adapters/remote_runner.py
       2      1     13      1       2 exception@51-52@lb_controller/adapters/remote_runner.py
       5      3     51      1       6 start@54-59@lb_controller/adapters/remote_runner.py
       7      3     47      2       8 wait@61-68@lb_controller/adapters/remote_runner.py
      10      4     54      2      12 arm_stop@70-81@lb_controller/adapters/remote_runner.py
      27     11    154      1      28 _run@83-110@lb_controller/adapters/remote_runner.py
      41      4    262      3      41 __init__@41-81@lb_controller/engine/controller.py
       3      2     25      2       4 on_event@83-86@lb_controller/engine/controller.py
       2      1     15      1       2 coordinator@89-90@lb_controller/engine/controller.py
       2      1     20      2       2 coordinator@93-94@lb_controller/engine/controller.py
       2      1     17      1       2 run.ui_log@125-126@lb_controller/engine/controller.py
      35      8    242      6      55 run@96-150@lb_controller/engine/controller.py
      59      8    310      5      65 _prepare_run_state@152-216@lb_controller/engine/controller.py
       7      1     45      4       7 _handle_stop_protocol@218-224@lb_controller/engine/controller.py
      19      1     92      5      20 handle_stop_during_workloads@17-36@lb_controller/engine/stop_logic.py
      53      6    233      4      67 handle_stop_protocol@39-105@lb_controller/engine/stop_logic.py
      12      1     73      4      18 __init__@28-45@lb_controller/engine/stops.py
       6      2     40      1       7 initiate_stop@47-53@lb_controller/engine/stops.py
      12      8    107      2      23 process_event@57-79@lb_controller/engine/stops.py
       4      2     33      1       5 _check_completion@81-85@lb_controller/engine/stops.py
       7      4     62      1       9 check_timeout@87-95@lb_controller/engine/stops.py
       2      1     15      1       2 can_proceed_to_teardown@97-98@lb_controller/engine/stops.py
       2      3     33      2       3 resolve_run_id@15-17@lb_controller/engine/run_state_builders.py
       5      1     28      1       6 build_inventory@20-25@lb_controller/engine/run_state_builders.py
      12      1     66      2      12 prepare@34-45@lb_controller/engine/run_state_builders.py
      28      2    170      8      28 build@54-81@lb_controller/engine/run_state_builders.py
       2      1     16      2       2 start_phase@39-40@lb_controller/engine/lifecycle.py
       4      3     49      1       4 finish@42-45@lb_controller/engine/lifecycle.py
       3      2     23      1       3 arm_stop@47-49@lb_controller/engine/lifecycle.py
       2      1     14      1       2 mark_interrupting_setup@51-52@lb_controller/engine/lifecycle.py
       2      1     14      1       2 mark_waiting_runners@54-55@lb_controller/engine/lifecycle.py
       2      1     14      1       2 mark_teardown@57-58@lb_controller/engine/lifecycle.py
       2      1     14      1       2 mark_interrupting_teardown@60-61@lb_controller/engine/lifecycle.py
       2      1     14      1       2 mark_failed@63-64@lb_controller/engine/lifecycle.py
       2      1     14      1       2 mark_stopped@66-67@lb_controller/engine/lifecycle.py
      10      5     74      2      16 on_sigint@42-57@lb_controller/engine/interrupts.py
       2      1     15      1       3 mark_finished@59-61@lb_controller/engine/interrupts.py
       3      2     24      1       4 reset_arm@63-66@lb_controller/engine/interrupts.py
      13      1     71      5      13 __init__@72-84@lb_controller/engine/interrupts.py
       4      1     33      1       4 __enter__@86-89@lb_controller/engine/interrupts.py
       4      2     40      4       4 __exit__@91-94@lb_controller/engine/interrupts.py
       9      4     62      3       9 _delegate@96-104@lb_controller/engine/interrupts.py
      11      4     75      3      11 _handle_sigint@106-116@lb_controller/engine/interrupts.py
       2      1     10      1       2 key@38-39@lb_controller/services/journal.py
      31      6    180      4      36 initialize@53-88@lb_controller/services/journal.py
       2      1     21      2       2 add_task@90-91@lb_controller/services/journal.py
       5      3     47      2       5 get_tasks_by_host@93-97@lb_controller/services/journal.py
       3      1     36      4       4 get_task@99-102@lb_controller/services/journal.py
      20      4    103      7      20 update_task@104-123@lb_controller/services/journal.py
      14      3     72      5      20 should_run@125-144@lb_controller/services/journal.py
       7      5     83      3       7 _update_task_timings@147-153@lb_controller/services/journal.py
       9      3    100      2      13 save@155-167@lb_controller/services/journal.py
      28     10    192      3      31 load@170-200@lb_controller/services/journal.py
       8      4     45      1      11 rehydrate_config@202-212@lb_controller/services/journal.py
      10      2     72      4      10 __init__@218-227@lb_controller/services/journal.py
       3      1     24      2       4 emit@229-232@lb_controller/services/journal.py
       3      2     25      2       3 emit_many@234-236@lb_controller/services/journal.py
       7      3     30      1       7 close@238-244@lb_controller/services/journal.py
      17      2    107      2      18 _update_journal@246-263@lb_controller/services/journal.py
      21      9    113      2      22 _write_log@265-286@lb_controller/services/journal.py
      10      4     62      1      11 _config_dump@289-299@lb_controller/services/journal.py
       6      2     63      1       7 _config_hash@302-308@lb_controller/services/journal.py
       2      1     18      0       3 generate_run_id@21-23@lb_controller/services/paths.py
       9      1     79      2      13 prepare_run_dirs@26-38@lb_controller/services/paths.py
      11      2     72      3      12 prepare_per_host_dirs@41-52@lb_controller/services/paths.py
       8      4     65      1       9 apply_playbook_defaults@55-63@lb_controller/services/paths.py
       7      1     40      4       7 __init__@14-20@lb_controller/services/ui_notifier.py
       3      2     24      2       3 set_phase@22-24@lb_controller/services/ui_notifier.py
       7      3     34      1       7 refresh_journal@26-32@lb_controller/services/ui_notifier.py
       2      1     17      2       2 log@34-35@lb_controller/services/ui_notifier.py
      22      2     99      9      23 update_journal_tasks@18-40@lb_controller/services/journal_sync.py
      25      3    105      9      26 update_all_reps@43-68@lb_controller/services/journal_sync.py
      16      4     99      6      17 backfill_timings_from_results@71-87@lb_controller/services/journal_sync.py
       3      2     19      1       4 _refresh_journal@90-93@lb_controller/services/journal_sync.py
      18      6    120      2      19 _collect_results@96-114@lb_controller/services/journal_sync.py
      12      3     69      4      14 _apply_result_entry@117-130@lb_controller/services/journal_sync.py
      12      6    116      2      12 _update_task_timings@133-144@lb_controller/services/journal_sync.py
      10      5     99      2      10 _update_task_status@147-156@lb_controller/services/journal_sync.py
      10      5     85      3      10 _format_error_message@159-168@lb_controller/services/journal_sync.py
       9      1     35      4       9 __init__@25-33@lb_controller/services/workload_runner.py
      20      4    111      6      20 run_workloads@35-54@lb_controller/services/workload_runner.py
      73      8    299      7      80 _process_single_workload@56-135@lb_controller/services/workload_runner.py
      12      2     53      4      12 _get_plugin_assets@137-148@lb_controller/services/workload_runner.py
      21      3    127     10      21 __init__@32-52@lb_controller/services/controller_context.py
       9      2     51      3       9 _transition@54-62@lb_controller/services/controller_context.py
       5      2     35      2       5 _arm_stop@64-68@lb_controller/services/controller_context.py
       5      3     30      1       5 _stop_requested@70-74@lb_controller/services/controller_context.py
       7      3     31      1       7 _interrupt_executor@76-82@lb_controller/services/controller_context.py
       7      3     34      1       7 _refresh_journal@84-90@lb_controller/services/controller_context.py
      34      7    166      5      34 _build_summary@92-125@lb_controller/services/controller_context.py
       8      1     49      5       8 _handle_stop_during_workloads@127-134@lb_controller/services/controller_context.py
       7      1     43      4       7 _handle_stop_protocol@136-142@lb_controller/services/controller_context.py
      16      1     59      6      16 _run_for_hosts@144-159@lb_controller/services/controller_context.py
       5      2     41      1       5 _collector_apt_packages@161-165@lb_controller/services/controller_context.py
       9      3     65      4       9 __init__@20-28@lb_controller/services/run_catalog_service.py
      18      7    117      1      21 list_runs@30-50@lb_controller/services/run_catalog_service.py
      24      6    173      2      29 get_run@52-80@lb_controller/services/run_catalog_service.py
       3      2     37      2       3 _resolve_output_root@82-84@lb_controller/services/run_catalog_service.py
       4      2     35      2       4 _resolve_optional_root@87-90@lb_controller/services/run_catalog_service.py
       4      3     28      1       4 _existing_or_none@93-96@lb_controller/services/run_catalog_service.py
       7      3     44      1       7 _load_journal@99-105@lb_controller/services/run_catalog_service.py
      11      4     73      1      11 _extract_created_at@108-118@lb_controller/services/run_catalog_service.py
      18      7    139      1      18 _extract_hosts_workloads@121-138@lb_controller/services/run_catalog_service.py
       2      3     32      1       2 _fallback_hosts@141-142@lb_controller/services/run_catalog_service.py
      10      5     75      2      10 _fallback_workloads@145-154@lb_controller/services/run_catalog_service.py
       4      2     44      2       5 __init__@31-35@lb_controller/services/setup_service.py
      12      1     64      1      14 _get_local_inventory@37-50@lb_controller/services/setup_service.py
      22      4    113      3      29 provision_global@52-80@lb_controller/services/setup_service.py
      23      6    128      4      29 provision_workload@82-110@lb_controller/services/setup_service.py
      25      6    125      4      31 teardown_workload@112-142@lb_controller/services/setup_service.py
      22      4    109      3      27 teardown_global@144-170@lb_controller/services/setup_service.py
       2      1     16      2       2 __init__@16-17@lb_controller/services/teardown_service.py
       8      1     50      5       8 run_global_teardown@19-26@lb_controller/services/teardown_service.py
37 file analyzed.
==============================================================
NLOC    Avg.NLOC  AvgCCN  Avg.token  function_cnt    file
--------------------------------------------------------------
     25       9.0     2.0       44.0         1     lb_controller/models/controller_options.py
      0       0.0     0.0        0.0         0     lb_controller/models/__init__.py
     41       6.5     1.0       39.5         2     lb_controller/models/types.py
     56      17.3     4.7       93.0         3     lb_controller/models/pending.py
     19       0.0     0.0        0.0         0     lb_controller/models/contracts.py
    136       5.8     1.5       38.2         8     lb_controller/models/state.py
    151      10.5     4.5       85.5        13     lb_controller/ansible/callback_plugins/lb_events.py
      0       0.0     0.0        0.0         0     lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/__init__.py
     49       8.2     2.2       66.4         5     lb_controller/ansible/collections/ansible_collections/community/docker/plugins/connection/docker.py
      0       0.0     0.0        0.0         0     lb_controller/ansible/collections/ansible_collections/community/docker/plugins/__init__.py
      0       0.0     0.0        0.0         0     lb_controller/ansible/collections/ansible_collections/community/docker/__init__.py
      0       0.0     0.0        0.0         0     lb_controller/ansible/collections/ansible_collections/community/__init__.py
      0       0.0     0.0        0.0         0     lb_controller/ansible/collections/ansible_collections/__init__.py
    340      40.5     6.5      212.4         8     lb_controller/adapters/playbooks.py
    300       8.3     2.1       53.5        33     lb_controller/adapters/ansible_helpers.py
    162      14.1     2.4       94.0        10     lb_controller/adapters/ansible_runner.py
     81       8.9     3.4       56.6         8     lb_controller/adapters/remote_runner.py
     24       0.0     0.0        0.0         0     lb_controller/engine/run_state.py
    178      18.9     3.2      117.0         8     lb_controller/engine/controller.py
     82      36.0     3.5      162.5         2     lb_controller/engine/stop_logic.py
     45       0.0     0.0        0.0         0     lb_controller/engine/controller_protocols.py
     55       7.2     3.0       55.0         6     lb_controller/engine/stops.py
     61      11.8     1.8       74.2         4     lb_controller/engine/run_state_builders.py
     43       2.3     1.3       19.1         9     lb_controller/engine/lifecycle.py
     78       7.0     2.5       49.2         8     lb_controller/engine/interrupts.py
    242      10.8     3.5       72.9        19     lb_controller/services/journal.py
     42       7.5     2.0       58.5         4     lb_controller/services/paths.py
     24       4.8     1.8       28.8         4     lb_controller/services/ui_notifier.py
    137      14.2     4.0       90.1         9     lb_controller/services/journal_sync.py
      4       0.0     0.0        0.0         0     lb_controller/services/__init__.py
    129      28.5     3.8      124.5         4     lb_controller/services/workload_runner.py
    146      11.3     2.5       60.5        11     lb_controller/services/controller_context.py
    124      10.0     4.1       74.4        11     lb_controller/services/run_catalog_service.py
    122      18.0     3.8       97.2         6     lb_controller/services/setup_service.py
     17       5.0     1.0       33.0         2     lb_controller/services/teardown_service.py
      0       0.0     0.0        0.0         0     lb_controller/__init__.py
     82       0.0     0.0        0.0         0     lb_controller/api.py

==========================================================================================================
!!!! Warnings (cyclomatic_complexity > 10 or length > 200 or nloc > 1000000 or parameter_count > 100) !!!!
================================================
  NLOC    CCN   token  PARAM  length  location  
------------------------------------------------
      21     12    235      3      21 _handle_result@111-131@lb_controller/ansible/callback_plugins/lb_events.py
      20     12    172      2      21 _candidate_texts@140-160@lb_controller/ansible/callback_plugins/lb_events.py
      51     13    309      5      57 run_global_teardown@301-357@lb_controller/adapters/playbooks.py
      27     11    154      1      28 _run@83-110@lb_controller/adapters/remote_runner.py
==========================================================================================
Total nloc   Avg.NLOC  AvgCCN  Avg.token   Fun Cnt  Warning cnt   Fun Rt   nloc Rt
------------------------------------------------------------------------------------------
      2995      11.9     3.0       73.9      198            4      0.02    0.05
